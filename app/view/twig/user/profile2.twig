<!DOCTYPE html>
<html class="" lang="en">
<head  >

    {% include 'twig/common/header/include.twig' %}
    <script src="/dev/lib/handlebars-v4.0.10.js" type="text/javascript" charset="utf-8"></script>
    <link href="/dev/lib/laydate/theme/default/laydate.css" rel="stylesheet">
    <script src="/dev/lib/laydate/laydate.js"></script>
    <script src="/dev/js/user/profile.js?v=<?=_version?>" type="text/javascript" charset="utf-8"></script>

</head>
<body class="" data-group="" data-page="profiles:show" data-project="">
{% include 'twig/common/body/script.twig' %}

<section class="has-sidebar page-layout max-sidebar">
    {% include 'twig/common/body/page-left.twig' %}

    <div class="page-layout page-content-body background-white">
        {% include 'twig/common/body/header-content.twig' %}

        <div class="page-with-sidebar">
            <div class="content-wrapper page-with-layout-nav page-with-sub-nav">
                <div class="alert-wrapper">

                    <div class="flash-container flash-container-page">
                    </div>

                </div>
                <div class="content padding-0" id="content-body">
                    <div class="cover-block user-cover-block">
                        <div class="scrolling-tabs-container">
                            <div class="fade-left">
                                <i class="fa fa-angle-left"></i>
                            </div>
                            <div class="fade-right">
                                <i class="fa fa-angle-right"></i>
                            </div>
                            {% set profile_nav='activity' %}
                            {% include  'twig/user/common-profile-nav.twig' %}
                        </div>
                    </div>
                    <div class="container-fluid container-limited">
                        <div class="row prepend-top-default">
                            <div class="col-lg-2 profile-settings-sidebar">
                                {% include 'twig/user/common-profile-header.twig' %}
                            </div>
                            <div class="col-lg-8">
                                <h5 class="prepend-top-10"></h5>
                                <div class="tab-content">
                                    <div class="tab-pane active" id="activity">

                                        <div id="user-calendar" class="calendar-container user-calendar">

                                        </div>
                                        <div  id="activity_list" data-href="/sven">

                                        </div>
                                        <div id="more_activity" class="loading hide">
                                            <a class="text-plain" href="#" style="font-size: 14px">更多</a>
                                        </div>
                                        <div class="loading hide">
                                            <i class="fa fa-spinner fa-spin"></i>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="groups"></div>
                                    <div class="tab-pane" id="projects">
                                    </div>
                                    <div class="tab-pane" id="snippets"></div>
                                </div>
                            </div>
                            <div class="col-lg-2 ">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
{% verbatim %}<script id="activity_tpl" type="text/html" >
    <ul class="projects-list">
    {{#activity_list}}
        <li class="project-row">
            <div class="project-details">
                <h3 class="prepend-top-0 append-bottom-0"><span class="label btn-success" style="padding: 4px;">{{action}}</span> {{{title}}}</h3>
                <div class="description prepend-top-5">
                    <p dir="auto" style="color:#999;">{{{content}}}</p>
                </div>
            </div>
            <div class="event-title">
                <span class="author_name">
                    <a title="Abby Matthews" href="/amatthews">{{display}}</a>
                </span>
                <span class="pushed"></span>
            </div>
            <div class="event-body">
                <div class="commit-row-title">
                    {{detail}}
                </div>
            </div>
            <div class="controls">
                <time class="js-timeago js-timeago-render-my" title=""
                      datetime="{{time_full}}"
                      data-toggle="tooltip"
                      data-placement="top"
                      data-container="body"
                      data-original-title="{{time_full}}"
                      data-tid="449">{{time_text}}</time>
            </div>
        </li>
    {{/activity_list}}
    </ul>
</script>{% endverbatim %}
<style>
    text.month-name,
    text.calendar-heatmap-legend-text,
    text.day-initial {
        font-size: 10px;
        fill: #aaaaaa;
        font-family: Helvetica, arial, 'Open Sans', sans-serif
    }
    .day-cell {
        border: 1px solid gray;
    }
    rect.day-cell:hover {
        stroke: #555555;
        stroke-width: 1px;
    }
    .day-cell-tooltip {
        position: absolute;
        z-index: 9999;
        padding: 5px 9px;
        color: #bbbbbb;
        font-size: 12px;
        background: rgba(0, 0, 0, 0.85);
        border-radius: 3px;
        text-align: center;
    }
    .day-cell-tooltip > span {
        font-family: Helvetica, arial, 'Open Sans', sans-serif
    }
    .calendar-heatmap {
        box-sizing: initial;
        overflow: visible !important;
    }
</style>
<script src="/dev/lib/handlebars-v4.0.10.js" type="text/javascript" charset="utf-8"></script>
<script src="/dev/js/activity.js" type="text/javascript" charset="utf-8"></script>
<script src="/dev/lib/moment.js" charset="utf-8"></script>
<script src="/dev/lib/d3-v5/d3.v3.min.js" charset="utf-8"></script>
<script src="/dev/lib/calendar-heatmap/src/calendar-heatmap.js"></script>
<script type="text/javascript">

    var $activity = null;
    var _cur_page = 1;
    var _user_id = '<?=user_id?>';
    $(function() {


        var options = {
            user_id:_user_id
        }
        window.$activity = new Activity( options );
        window.$activity.fetchByUser( window._cur_page );
        window.$activity.fetchCalendarHeatmap( );

        $('#more_activity').bind('click', function(){
            window.$activity.fetchByUser( window._cur_page +1 );
        })
    });
</script>


</body>
</html>

